webpackJsonp([61],{WBi9:function(e,t,r){"use strict";function i(e){r("gCff")}Object.defineProperty(t,"__esModule",{value:!0});var o=r("VHwi"),a={data:function(){return{active:0,isChange:!1,loading:!1,roles:[],editFormRules:{bundleId:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"}],nameCN:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"}],briefCN:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"}],wxAppType:[{required:!0,message:this.$t("common.holderSelect"),trigger:"change"}]},editForm:{bundleId:"",nameCN:"",nameEN:"",briefCN:"",briefEN:"",site:"",wxAppType:"",wxAppId:"",wxAppSecret:"",wxAppDefPwd:""}}},computed:{types:function(){return[{key:"APP",label:this.$t("application.APP")},{key:"PUB",label:this.$t("application.PUB")}]}},mounted:function(){var e=this;this.$route.query.id&&(this.isChange=!0,o.a.getApplication(this.$route.query.id).then(function(t){e.editForm.bundleId=t.data.bundleId,e.editForm.nameCN=t.data.nameCN,e.editForm.nameEN=t.data.nameEN,e.editForm.briefCN=t.data.briefCN,e.editForm.briefEN=t.data.briefEN,e.editForm.site=t.data.site,e.editForm.wxAppType=t.data.wxAppType,e.editForm.wxAppId=t.data.wxAppId,e.editForm.wxAppSecret=t.data.wxAppSecret,e.editForm.wxAppDefPwd=t.data.wxAppDefPwd}).catch(function(e){}))},methods:{backForm:function(e){this.$router.back(-1)},resetForm:function(e){this.$refs[e].resetFields(),this.roles=[]},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=t.editForm,i=void 0;i=t.isChange?o.a.updateApplication(t.$route.query.id,r.nameCN,r.nameEN,r.briefCN,r.briefEN,r.site,r.bundleId,r.wxAppId,r.wxAppSecret):o.a.createApplication(r.nameCN,r.nameEN,r.briefCN,r.briefEN,r.site,r.bundleId,r.wxAppType,r.wxAppId,r.wxAppSecret),t.loading=!0,i.then(function(e){t.loading=!1,t.$message.success(t.$t("common.tipSuccess")),t.$router.push({path:"/appList"})}).catch(function(e){t.loading=!1})})}}},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"tips"},[r("p",[e._v(e._s(e.$t("route.appApply")))])]),e._v(" "),r("div",{staticClass:"editForm"},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px",rules:e.editFormRules}},[r("el-form-item",{attrs:{label:e.$t("application.bundleId"),prop:"bundleId"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.bundleId,callback:function(t){e.$set(e.editForm,"bundleId",t)},expression:"editForm.bundleId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.nameCN"),prop:"nameCN"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.nameCN,callback:function(t){e.$set(e.editForm,"nameCN",t)},expression:"editForm.nameCN"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.nameEN"),prop:"nameEN"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.nameEN,callback:function(t){e.$set(e.editForm,"nameEN",t)},expression:"editForm.nameEN"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.briefCN"),prop:"briefCN"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.briefCN,callback:function(t){e.$set(e.editForm,"briefCN",t)},expression:"editForm.briefCN"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.briefEN"),prop:"briefEN"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.briefEN,callback:function(t){e.$set(e.editForm,"briefEN",t)},expression:"editForm.briefEN"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.site"),prop:"site"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.site,callback:function(t){e.$set(e.editForm,"site",t)},expression:"editForm.site"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.wxAppType"),prop:"wxAppType"}},[e.isChange?r("el-input",{attrs:{readonly:""},model:{value:e.editForm.wxAppType,callback:function(t){e.$set(e.editForm,"wxAppType",t)},expression:"editForm.wxAppType"}}):r("el-select",{staticClass:"handle-select",model:{value:e.editForm.wxAppType,callback:function(t){e.$set(e.editForm,"wxAppType",t)},expression:"editForm.wxAppType"}},[e._l(e.types,function(e){return[r("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})]})],2)],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.wxAppId"),prop:"wxAppId"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.wxAppId,callback:function(t){e.$set(e.editForm,"wxAppId",t)},expression:"editForm.wxAppId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("application.wxAppSecret"),prop:"wxAppSecret"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput")},model:{value:e.editForm.wxAppSecret,callback:function(t){e.$set(e.editForm,"wxAppSecret",t)},expression:"editForm.wxAppSecret"}})],1),e._v(" "),e.isChange?r("el-form-item",{attrs:{label:e.$t("application.wxAppDefPwd"),prop:"wxAppDefPwd"}},[r("el-input",{attrs:{placeholder:e.$t("common.holderInput"),readonly:""},model:{value:e.editForm.wxAppDefPwd,callback:function(t){e.$set(e.editForm,"wxAppDefPwd",t)},expression:"editForm.wxAppDefPwd"}})],1):e._e(),e._v(" "),r("div",{staticClass:"btn-commit"},[e.isChange?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.backForm("editForm")}}},[e._v(e._s(e.$t("common.back")))]):e._e(),e._v(" "),e.isChange?e._e():r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.resetForm("editForm")}}},[e._v(e._s(e.$t("common.reset")))]),e._v(" "),r("el-button",{attrs:{type:"danger",loading:e.loading},on:{click:function(t){e.submitForm("editForm")}}},[e._v(e._s(e.$t("common.save")))])],1)],1)],1)])},p=[],l={render:n,staticRenderFns:p},d=l,m=r("VU/8"),s=i,c=m(a,d,!1,s,"data-v-194519c0",null);t.default=c.exports},Yh3c:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"\n.tips[data-v-194519c0] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\n.btn-commit[data-v-194519c0] {\r\n    text-align: center;\n}\n.allroles[data-v-194519c0] {\r\n    margin-left: 100px;\r\n    margin-bottom: 1rem;\n}\r\n",""])},gCff:function(e,t,r){var i=r("Yh3c");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("rjj0")("46464ec6",i,!0,{})}});