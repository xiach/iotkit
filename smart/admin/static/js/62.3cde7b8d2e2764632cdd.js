webpackJsonp([62],{"6VVv":function(t,e,n){"use strict";function a(t){n("OtT1")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("UgCr"),r={data:function(){return{listLoading:!0,scenes:[]}},mounted:function(){this.updateSceneCfg()},methods:{capFormatter:function(t,e){return t.name+"("+t.key+")"},dirFormatter:function(t,e){return"upstream"==t.direction?this.$t("product.paramUp"):"downstream"==t.direction?this.$t("product.paramDown"):"bidirectional"==t.direction?this.$t("product.paramBidir"):void 0},valFormatter:function(t,e){return"switch"==t.type?this.$t("product.paramswitch"):"enum"==t.type?this.$t("product.paramenum"):"range"==t.type?this.$t("product.paramrange"):"string"==t.type?this.$t("product.paramstring"):"time"==t.type?this.$t("product.paramtime"):"fault"==t.type?this.$t("product.paramfault"):void 0},updateSceneCfg:function(){var t=this;this.listLoading=!0,this.scenes=[],i.a.getAllSceneCfg(this.$route.query.id).then(function(e){t.listLoading=!1,t.scenes=e.data.result}).catch(function(e){t.listLoading=!1})},handleDelete:function(t,e){var n=this;this.$confirm(this.$t("common.toDelete"),this.$t("common.tip"),{type:"warning"}).then(function(){n.onDelete(t,e)}).catch(function(){})},onDelete:function(t,e){var n=this;this.listLoading=!0,this.scenes.splice(t,1);var a=[];this.scenes.forEach(function(t){a.push(t.key)}),i.a.setAllSceneCfg(this.$route.query.id,a.join(",")).then(function(t){n.$message.success(n.$t("common.tipSuccess")),n.listLoading=!1}).catch(function(t){n.listLoading=!1,n.$message.success(n.$t("common.tipFailed"))})},onBack:function(){this.$router.back(-1)}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tips"},[n("p",[t._v(t._s(t.$t("route.tenantScenecfg")))])]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.scenes,border:"",strip:"",size:"mini"}},[n("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),n("el-table-column",{attrs:{prop:"key",label:t.$t("message.param"),width:"200",formatter:t.capFormatter}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:t.$t("product.paramVal"),formatter:t.valFormatter}}),t._v(" "),n("el-table-column",{attrs:{prop:"value",label:t.$t("product.paramDesc")}}),t._v(" "),n("el-table-column",{attrs:{prop:"direction",label:t.$t("product.paramDir"),formatter:t.dirFormatter}}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("common.operation"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button-group",[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.handleDelete(e.$index,e.row)}}},[t._v(t._s(t.$t("common.delete")))])],1)]}}])})],1),t._v(" "),n("div",{staticClass:"btn-commit"},[n("el-button",{attrs:{type:"primary"},on:{click:t.onBack}},[t._v(t._s(t.$t("common.back")))])],1)],1)},c=[],s={render:o,staticRenderFns:c},l=s,u=n("VU/8"),p=a,d=u(r,l,!1,p,"data-v-1545c302",null);e.default=d.exports},LrE3:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n.tips[data-v-1545c302] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\n.handle-box[data-v-1545c302]{\r\n    margin-bottom: 20px;\n}\n.handle-select[data-v-1545c302]{\r\n    width: 120px;\n}\n.handle-input[data-v-1545c302]{\r\n    width: 300px;\r\n    display: inline-block;\n}\n.btn-commit[data-v-1545c302] {\r\n    margin-top: 40px;\r\n    text-align: center;\n}\r\n",""])},OtT1:function(t,e,n){var a=n("LrE3");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("41dff5b4",a,!0,{})}});