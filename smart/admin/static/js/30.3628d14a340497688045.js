webpackJsonp([30],{Vwev:function(t,n,e){var a=e("ax94");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("03a2b456",a,!0,{})},ax94:function(t,n,e){n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n.tips[data-v-67fa0baa] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\r\n",""])},ilAT:function(t,n,e){"use strict";function a(t){e("Vwev")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("nv77"),i={data:function(){return{listLoading:!0,staffs:[]}},mounted:function(){this.updateRoles()},methods:{updateRoles:function(){var t=this;this.listLoading=!0,this.staffs=[],o.a.getAllStaffs().then(function(n){t.staffs=n.data.result,t.listLoading=!1}).catch(function(n){t.listLoading=!1})},roleFormatter:function(t,n){var e=[];return t.roles.forEach(function(t){e.push(t.name)}),e.length>0?e.join(", "):this.$t("account.noroles")},handleChange:function(t,n){this.$router.push({path:"/accountApply",query:{id:this.staffs[t].id}})},handleRemove:function(t,n){var e=this;this.$confirm(this.$t("common.toCancel"),this.$t("common.tip"),{type:"warning"}).then(function(){e.onRemove(t,n)}).catch(function(){})},onRemove:function(t,n){var e=this;this.listLoading=!0,o.a.changeStaffRoles(this.staffs[t].id,[]).then(function(t){e.updateRoles()}).catch(function(t){e.listLoading=!1})}}},s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"tips"},[e("p",[t._v(t._s(t.$t("account.list")))])]),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.staffs,border:"",strip:""}},[e("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),e("el-table-column",{attrs:{prop:"username",label:t.$t("account.user"),width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"nickname",label:t.$t("account.name"),width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"phone",label:t.$t("account.phone"),width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"roles",label:t.$t("account.roles"),formatter:t.roleFormatter}}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("contract.action"),width:"300"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button-group",[e("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.handleChange(n.$index,n.row)}}},[t._v(t._s(t.$t("account.change")))]),t._v(" "),n.row.roles.length>0?e("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){t.handleRemove(n.$index,n.row)}}},[t._v(t._s(t.$t("account.remove")))]):t._e()],1)]}}])})],1)],1)},l=[],r={render:s,staticRenderFns:l},c=r,u=e("VU/8"),f=a,d=u(i,c,!1,f,"data-v-67fa0baa",null);n.default=d.exports}});