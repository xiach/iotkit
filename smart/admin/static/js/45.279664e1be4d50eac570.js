webpackJsonp([45],{"4Sar":function(t,e,o){var i=o("eY3j");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("51ca0706",i,!0,{})},Xh5U:function(t,e,o){"use strict";function i(t){o("4Sar")}Object.defineProperty(e,"__esModule",{value:!0});var r=o("Ffne"),n={data:function(){return{listLoading:!1,macSections:[],editFormVisible:!1,editLoading:!1,editFormRules:{oui:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"},{min:6,max:6,message:this.$t("manufacture.holderMac"),trigger:"blur"}],start:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"},{min:6,max:6,message:this.$t("manufacture.holderMac"),trigger:"blur"}],end:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"},{min:6,max:6,message:this.$t("manufacture.holderMac"),trigger:"blur"}],memo:[{required:!0,message:this.$t("common.holderInput"),trigger:"blur"}]},editForm:{oui:"",start:"",end:"",memo:""}}},mounted:function(){this.updateMacSections()},methods:{updateMacSections:function(){var t=this;this.listLoading=!0,r.a.getMacSections().then(function(e){t.macSections=e.data.result,t.listLoading=!1}).catch(function(e){t.listLoading=!1})},macStartFormatter:function(t,e){return t.oui+t.start},macNowFormatter:function(t,e){return t.oui+t.now},macEndFormatter:function(t,e){return t.oui+t.end},assignedFormatter:function(t,e){var o=parseInt(t.start,16),i=parseInt(t.end,16),r=parseInt(t.now,16),n=r-o,a=i-o;return n+" / "+a+" ("+(n/a).toFixed(2)+"%)"},closeDlg:function(){this.editFormVisible=!1,this.editForm.oui="",this.editForm.start="",this.editForm.end="",this.editForm.memo=""},handleAdd:function(){this.editFormVisible=!0,this.editForm.oui="",this.editForm.start="",this.editForm.end="",this.editForm.memo=""},handleDelete:function(t,e){var o=this;this.$confirm(this.$t("common.toCancel"),this.$t("common.tip"),{type:"warning"}).then(function(){o.onDelete(t,e)}).catch(function(){})},onDelete:function(t,e){var o=this;this.listLoading=!0,r.a.deleteMacSection(this.macSections[t].id).then(function(t){o.updateMacSections(),o.$message.success(o.$t("common.tipSuccess"))}).catch(function(t){o.listLoading=!1})},handleRecord:function(t,e){},editSubmit:function(t){var e=this,o=this.editForm;e.$refs[t].validate(function(t){t&&(e.editLoading=!0,r.a.createMacSection(o.oui,o.memo,o.start,o.end).then(function(t){e.editLoading=!1,e.editFormVisible=!1,e.updateMacSections(),e.$message.success(e.$t("common.tipSuccess"))}).catch(function(t){e.editLoading=!1,e.editFormVisible=!1}))})}}},a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"tips"},[o("p",[t._v(t._s(t.$t("route.macSections")))])]),t._v(" "),o("el-button",{staticClass:"addparam",attrs:{type:"success"},on:{click:function(e){t.handleAdd()}}},[t._v(t._s(t.$t("manufacture.btnAddNew")))]),t._v(" "),t.editFormVisible?o("el-dialog",{attrs:{title:t.$t("manufacture.btnAddNew"),visible:t.editFormVisible,"close-on-click-modal":!1,"before-close":t.closeDlg}},[o("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"80px",rules:t.editFormRules}},[o("el-form-item",{attrs:{label:t.$t("manufacture.memo"),prop:"memo"}},[o("el-input",{attrs:{placeholder:t.$t("common.holderInput")},model:{value:t.editForm.memo,callback:function(e){t.$set(t.editForm,"memo",e)},expression:"editForm.memo"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"OUI",prop:"oui"}},[o("el-input",{attrs:{placeholder:t.$t("common.holderInput")},model:{value:t.editForm.oui,callback:function(e){t.$set(t.editForm,"oui",e)},expression:"editForm.oui"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("manufacture.start"),prop:"start"}},[o("el-input",{attrs:{placeholder:t.$t("common.holderInput")},model:{value:t.editForm.start,callback:function(e){t.$set(t.editForm,"start",e)},expression:"editForm.start"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("manufacture.end"),prop:"end"}},[o("el-input",{attrs:{placeholder:t.$t("common.holderInput")},model:{value:t.editForm.end,callback:function(e){t.$set(t.editForm,"end",e)},expression:"editForm.end"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.closeDlg}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),o("el-button",{attrs:{type:"danger",loading:t.editLoading},on:{click:function(e){t.editSubmit("editForm")}}},[t._v(t._s(t.$t("common.commit")))])],1)],1):t._e(),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.macSections,border:"",strip:"",size:"mini"}},[o("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),o("el-table-column",{attrs:{prop:"memo",label:t.$t("manufacture.memo"),width:"200"}}),t._v(" "),o("el-table-column",{attrs:{prop:"start",label:t.$t("manufacture.start"),formatter:t.macStartFormatter,width:"130"}}),t._v(" "),o("el-table-column",{attrs:{prop:"end",label:t.$t("manufacture.end"),formatter:t.macEndFormatter,width:"130"}}),t._v(" "),o("el-table-column",{attrs:{prop:"now",label:t.$t("manufacture.now"),formatter:t.macNowFormatter,width:"130"}}),t._v(" "),o("el-table-column",{attrs:{prop:"end",label:t.$t("manufacture.assigned"),formatter:t.assignedFormatter,width:"250"}}),t._v(" "),o("el-table-column",{attrs:{label:t.$t("common.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button-group",[o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){t.handleRecord(e.$index,e.row)}}},[t._v(t._s(t.$t("manufacture.record")))]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v(t._s(t.$t("common.delete")))])],1)]}}])})],1)],1)},s=[],m={render:a,staticRenderFns:s},l=m,c=o("VU/8"),d=i,u=c(n,l,!1,d,"data-v-33fb3f00",null);e.default=u.exports},eY3j:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,"\n.tips[data-v-33fb3f00] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\r\n",""])}});