webpackJsonp([66],{Cqi2:function(e,t,a){var l=a("wP3g");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("5696a646",l,!0,{})},fEDU:function(e,t,a){"use strict";function l(e){a("Cqi2")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("UgCr"),i=a("xV2B"),s={data:function(){return{listLoading:!1,total:0,pageSize:10,select_cate:"",select_word:"",select_cate_2:"",products:[],devices:[]}},mounted:function(){var e=this;this.products=[],n.a.getAllProducts().then(function(t){e.products=t.data.result}).catch(function(e){})},methods:{updateDevices:function(e){var t=this;void 0===e&&(e=1);var a=null;this.listLoading=!0,this.devices=[],a=this.select_cate&&(this.select_word||this.select_cate_2)?i.a.queryDevice(this.select_cate,this.select_word||this.select_cate_2,e,this.pageSize):i.a.getAllDevice(e,this.pageSize),a.then(function(e){t.devices=e.data.result,t.total=e.data.total,t.pageSize=e.data.pageSize,t.listLoading=!1}).catch(function(e){t.total=0,t.listLoading=!1})},getProductLabel:function(e){return e.model+"("+e.species+")"},handleReset:function(){this.$refs.editForm.resetFields()},handleQuery:function(){this.updateDevices()},handleDetail:function(e,t){this.$router.push({path:"/deviceDetail",query:{id:this.devices[e].id}})},handleCurrentChange:function(e){this.updateDevices(e)}},watch:{select_cate:function(e,t){this.select_word="",this.select_cate_2=""}}},c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tips"},[a("p",[e._v(e._s(e.$t("route.deviceList")))])]),e._v(" "),a("div",{staticClass:"handle-box"},[a("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.select_cate,callback:function(t){e.select_cate=t},expression:"select_cate"}},[a("el-option",{key:"4",attrs:{label:"MAC",value:"mac"}}),e._v(" "),a("el-option",{key:"1",attrs:{label:e.$t("product.promodel"),value:"model"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:e.$t("device.username"),value:"username"}})],1),e._v(" "),"model"!=e.select_cate?a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}):a("el-select",{staticClass:"handle-input mr10",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.select_cate_2,callback:function(t){e.select_cate_2=t},expression:"select_cate_2"}},[e._l(e.products,function(t){return[a("el-option",{key:t.id,attrs:{label:e.getProductLabel(t),value:t.id}})]})],2),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.listLoading,icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("搜索")])],1),e._v(" "),e.total>0?a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:e.total,"page-size":e.pageSize},on:{"current-change":e.handleCurrentChange}}):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"devTable",staticClass:"devTable",attrs:{data:e.devices,border:"",strip:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"UUID",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",label:"MAC"}}),e._v(" "),a("el-table-column",{attrs:{prop:"created",label:e.$t("device.created")}}),e._v(" "),a("el-table-column",{attrs:{prop:"activated",label:e.$t("device.activated")}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("contract.action")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.handleDetail(t.$index,t.row)}}},[e._v(e._s(e.$t("common.detail")))])],1)]}}])})],1)],1)},o=[],r={render:c,staticRenderFns:o},d=r,u=a("VU/8"),p=l,v=u(s,d,!1,p,"data-v-0d6d0b3a",null);t.default=v.exports},wP3g:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.tips[data-v-0d6d0b3a] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\n.handle-box[data-v-0d6d0b3a]{\r\n    margin-bottom: 20px;\n}\n.handle-select[data-v-0d6d0b3a]{\r\n    width: 200px;\n}\n.handle-input[data-v-0d6d0b3a]{\r\n    width: 300px;\r\n    display: inline-block;\n}\n.btn-commit[data-v-0d6d0b3a] {\r\n    text-align: center;\n}\n.devTable[data-v-0d6d0b3a] {\r\n    margin-top: 1rem;\n}\r\n",""])}});