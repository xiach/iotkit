webpackJsonp([60],{e5fc:function(t,e,r){var o=r("mNb3");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("2503b902",o,!0,{})},mNb3:function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,"\n.tips[data-v-1a50a386] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\n.steps[data-v-1a50a386] {\r\n    width: 80%;\r\n    margin-left: 10%;\n}\n.editForm[data-v-1a50a386] {\r\n    width: 80%;\n}\n.btn-commit[data-v-1a50a386] {\r\n    text-align: center;\n}\n.handle-select[data-v-1a50a386] {\r\n    width: 100%;\n}\n.notes[data-v-1a50a386] {\r\n    color: #999;\n}\r\n",""])},sqJ3:function(t,e,r){"use strict";function o(t){r("e5fc")}Object.defineProperty(e,"__esModule",{value:!0});var a=r("UgCr"),i={data:function(){return{active:0,isChange:!1,loading:!1,species:[],editFormRules:{promodel:[{required:!0,message:this.$t("product.promodelHolder"),trigger:"blur"}],protype:[{required:!0,message:this.$t("product.protypeHolder"),trigger:"change"}],networking:[{required:!0,message:this.$t("product.protypeHolder"),trigger:"change"}],protocol:[{required:!0,message:this.$t("product.protypeHolder"),trigger:"change"}]},editForm:{tenant:this.$store.getters.tenant,protype:[" "],protypeTxt:"",networking:"WiFi",promodel:"",probrand:"",protocol:"default",probrief:""}}},mounted:function(){var t=this;this.$route.query.id&&(this.isChange=!0),a.a.getAllSpecies().then(function(e){e.data.result.forEach(function(e){var r=[];e.species.forEach(function(t){r.push({value:t.id,label:t.name})}),t.species.push({value:e.id,label:e.name,children:r})}),t.isChange&&a.a.getProduct(t.$route.query.id).then(function(e){t.editForm.protypeTxt=e.data.species,t.editForm.networking=e.data.networking,t.editForm.promodel=e.data.model,t.editForm.probrand=e.data.brand,t.editForm.protocol=e.data.protocol,t.editForm.probrief=e.data.brief}).catch(function(t){})}).catch(function(t){})},computed:{steps:function(){var t=[];return t.push(this.$t("product.probase")),t.push(this.$t("product.proattr")),t.push(this.$t("product.procmt")),t},protocols:function(){return[{key:"default",label:this.$t("product.default")},{key:"passthrough",label:this.$t("product.passthrough")}]},networkings:function(){return[{key:"WiFi",label:"WiFi"},{key:"Bluetooth",label:"Bluetooth"},{key:"ZigBee",label:"ZigBee"},{key:"Ethernet",label:"Ethernet"},{key:"GPRS",label:"GPRS"},{key:"NB-IOT",label:"NB-IOT"},{key:"433",label:"433"},{key:"485",label:"485"},{key:"USB",label:"USB"}]}},methods:{submitForm:function(t){var e=this,r=this;r.$refs[t].validate(function(t){if(!t)return!1;var o=void 0;o=e.isChange?a.a.changeProdcutProfile(r.$route.query.id,r.editForm.promodel,r.editForm.protocol,r.editForm.networking,r.editForm.probrand,r.editForm.probrief):a.a.registerProduct(r.editForm.protype[1],r.editForm.promodel,r.editForm.protocol,r.editForm.networking,r.editForm.probrand,r.editForm.probrief),r.loading=!0,o.then(function(t){r.loading=!1,"default"!=r.editForm.protocol?r.$router.push({path:"/productCommit",query:{id:r.$route.query.id}}):r.$router.push({path:"/productCapability",query:{id:r.isChange?r.$route.query.id:t.data.id}})}).catch(function(t){r.loading=!1})})}}},n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"tips"},[r("p",[t._v(t._s(t.$t("product.progress")))])]),t._v(" "),r("div",{staticClass:"steps"},[r("el-steps",{attrs:{active:t.active,"finish-status":"success","align-center":""}},[t._l(t.steps,function(t){return[r("el-step",{attrs:{title:t}})]})],2)],1),t._v(" "),r("div",{staticClass:"tips"},[r("p",[t._v(t._s(t.$t("product.basic")))])]),t._v(" "),r("div",{staticClass:"editForm"},[r("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"200px",rules:t.editFormRules}},[r("el-form-item",{attrs:{label:t.$t("contract.company"),prop:"tenant"}},[r("el-input",{attrs:{readonly:""},model:{value:t.editForm.tenant,callback:function(e){t.$set(t.editForm,"tenant",e)},expression:"editForm.tenant"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("product.protype"),prop:"protype"}},[t.isChange?r("el-input",{attrs:{readonly:""},model:{value:t.editForm.protypeTxt,callback:function(e){t.$set(t.editForm,"protypeTxt",e)},expression:"editForm.protypeTxt"}}):r("el-cascader",{attrs:{"expand-trigger":"hover",options:t.species,placeholder:t.$t("product.protypeHolder")},model:{value:t.editForm.protype,callback:function(e){t.$set(t.editForm,"protype",e)},expression:"editForm.protype"}}),t._v(" "),r("span",{staticClass:"notes"},[t._v(t._s(t.$t("product.notetype")))])],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("product.promodel"),prop:"promodel"}},[r("el-input",{attrs:{placeholder:t.$t("product.promodelHolder")},model:{value:t.editForm.promodel,callback:function(e){t.$set(t.editForm,"promodel",e)},expression:"editForm.promodel"}}),t._v(" "),r("span",{staticClass:"notes"},[t._v(t._s(t.$t("product.notemodel")))])],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("product.probrand"),prop:"probrand"}},[r("el-input",{model:{value:t.editForm.probrand,callback:function(e){t.$set(t.editForm,"probrand",e)},expression:"editForm.probrand"}}),t._v(" "),r("span",{staticClass:"notes"},[t._v(t._s(t.$t("product.notebrand")))])],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("product.protocol"),prop:"protocol"}},[r("el-select",{staticClass:"handle-select",model:{value:t.editForm.protocol,callback:function(e){t.$set(t.editForm,"protocol",e)},expression:"editForm.protocol"}},[t._l(t.protocols,function(t){return[r("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})]})],2),t._v(" "),r("span",{staticClass:"notes"},[t._v(t._s(t.$t("product.noteprotocol")))])],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("product.networking"),prop:"networking"}},[r("el-select",{staticClass:"handle-select",model:{value:t.editForm.networking,callback:function(e){t.$set(t.editForm,"networking",e)},expression:"editForm.networking"}},[t._l(t.networkings,function(t){return[r("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})]})],2),t._v(" "),r("span",{staticClass:"notes"},[t._v(t._s(t.$t("product.notenetworking")))])],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("product.probrief"),prop:"probrief"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.editForm.probrief,callback:function(e){t.$set(t.editForm,"probrief",e)},expression:"editForm.probrief"}})],1),t._v(" "),r("div",{staticClass:"btn-commit"},[r("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.submitForm("editForm")}}},[t._v(t._s(t.$t("common.savenext")))])],1)],1)],1)])},l=[],s={render:n,staticRenderFns:l},p=s,d=r("VU/8"),c=o,u=d(i,p,!1,c,"data-v-1a50a386",null);e.default=u.exports}});