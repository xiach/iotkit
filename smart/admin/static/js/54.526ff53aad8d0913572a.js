webpackJsonp([54],{I3ZU:function(e,t,i){"use strict";function c(e){i("ZvU1")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("UgCr"),a=i("xV2B"),s={data:function(){return{loading:!1,products:[],activeName:"reset",deviceForm:{productId:"",mac:"",username:""},deviceFormRules:{productId:[{required:!0,message:this.$t("common.holderSelect"),trigger:"change"}],mac:[{required:!0,message:this.$t("device.macHolder"),trigger:"blur"}],username:[{required:!0,message:this.$t("device.usernameHolder"),trigger:"blur"}]}}},mounted:function(){var e=this;this.products=[],n.a.getAllProducts().then(function(t){e.products=t.data.result}).catch(function(e){})},methods:{handleClick:function(e,t){this.$refs.deviceForm.resetFields()},getProductLabel:function(e){return e.model+"("+e.species+")"},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;t.handleSubmit()})},handleSubmit:function(){var e=this;this.$confirm(this.$t("common.toOk"),this.$t("common.tip"),{type:"warning"}).then(function(){e.onOk()}).catch(function(){})},onOk:function(){var e=this,t=null;"reset"==this.activeName?t=a.a.reset(this.deviceForm.productId,this.deviceForm.mac):"unbindDev"==this.activeName?t=a.a.unbindByDevice(this.deviceForm.productId,this.deviceForm.mac):"unbindAcc"==this.activeName?t=a.a.unbindByUser(this.deviceForm.productId,this.deviceForm.username):"unbindAdm"==this.activeName&&(t=a.a.unbindAdmin(this.deviceForm.productId,this.deviceForm.mac)),this.loading=!0,t.then(function(t){e.$message.success(e.$t("common.tipSuccess")),e.deviceForm.productId="",e.deviceForm.mac="",e.deviceForm.username=""}).catch(function(t){e.$message.error(e.$t("common.tipFailed"))}),this.loading=!1}}},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:e.$t("device.reset"),name:"reset"}},[i("div",{staticClass:"tip1"},[e._v(e._s(e.$t("device.tipReset1")))]),e._v(" "),i("div",[i("span",{staticClass:"notice"},[e._v(e._s(e.$t("common.notice")))]),e._v(" "),i("span",{staticClass:"tip2"},[e._v(e._s(e.$t("device.tipReset2")))])])]),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("device.unbindDev"),name:"unbindDev"}},[i("div",{staticClass:"tip1"},[e._v(e._s(e.$t("device.tipUnbindDev1")))]),e._v(" "),i("div",[i("span",{staticClass:"notice"},[e._v(e._s(e.$t("common.notice")))]),e._v(" "),i("span",{staticClass:"tip2"},[e._v(e._s(e.$t("device.tipUnbindDev2")))])])]),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("device.unbindAcc"),name:"unbindAcc"}},[i("div",{staticClass:"tip1"},[e._v(e._s(e.$t("device.tipUnbindAcc1")))]),e._v(" "),i("div",[i("span",{staticClass:"notice"},[e._v(e._s(e.$t("common.notice")))]),e._v(" "),i("span",{staticClass:"tip2"},[e._v(e._s(e.$t("device.tipUnbindAcc2")))])])]),e._v(" "),i("el-tab-pane",{attrs:{label:e.$t("device.unbindAdm"),name:"unbindAdm"}},[i("div",{staticClass:"tip1"},[e._v(e._s(e.$t("device.tipUnbindAdm1")))]),e._v(" "),i("div",[i("span",{staticClass:"notice"},[e._v(e._s(e.$t("common.notice")))]),e._v(" "),i("span",{staticClass:"tip2"},[e._v(e._s(e.$t("device.tipUnbindAdm2")))])])])],1),e._v(" "),i("el-form",{ref:"deviceForm",staticClass:"deviceForm",attrs:{model:e.deviceForm,"label-width":"200px",rules:e.deviceFormRules}},[i("el-form-item",{attrs:{label:e.$t("product.promodel"),prop:"productId"}},[i("el-select",{staticClass:"handle-select",model:{value:e.deviceForm.productId,callback:function(t){e.$set(e.deviceForm,"productId",t)},expression:"deviceForm.productId"}},[e._l(e.products,function(t){return[i("el-option",{key:t.id,attrs:{label:e.getProductLabel(t),value:t.id}})]})],2)],1),e._v(" "),"unbindAcc"!=e.activeName?i("el-form-item",{attrs:{label:"MAC",prop:"mac"}},[i("el-input",{attrs:{placeholder:e.$t("device.macHolder")},model:{value:e.deviceForm.mac,callback:function(t){e.$set(e.deviceForm,"mac",t)},expression:"deviceForm.mac"}})],1):e._e(),e._v(" "),"unbindAcc"==e.activeName?i("el-form-item",{attrs:{label:e.$t("device.username"),prop:"username"}},[i("el-input",{attrs:{placeholder:e.$t("device.usernameHolder")},model:{value:e.deviceForm.username,callback:function(t){e.$set(e.deviceForm,"username",t)},expression:"deviceForm.username"}})],1):e._e(),e._v(" "),i("div",{staticClass:"btn-commit"},[i("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){e.submitForm("deviceForm")}}},[e._v(e._s(e.$t("common.ok")))])],1)],1)],1)},o=[],d={render:r,staticRenderFns:o},m=d,l=i("VU/8"),v=c,u=l(s,m,!1,v,"data-v-23189c26",null);t.default=u.exports},UW7h:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"\n.tip1[data-v-23189c26] {\r\n    color: #314558;\n}\n.tip2[data-v-23189c26] {\r\n    color: #314558;\n}\n.notice[data-v-23189c26] {\r\n    color: #FF0000;\n}\n.deviceForm[data-v-23189c26] {\r\n    margin-top: 1rem;\n}\n.btn-commit[data-v-23189c26] {\r\n    text-align: center;\n}\r\n",""])},ZvU1:function(e,t,i){var c=i("UW7h");"string"==typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);i("rjj0")("211e87a8",c,!0,{})}});