webpackJsonp([64],{XJZB:function(e,t,r){var a=r("uc32");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("3e65b98c",a,!0,{})},uc32:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"\n.tips[data-v-1395245a] {\r\n    font-size: 1.2rem;\r\n    color: #314558;\r\n    margin-top: 2rem;\r\n    margin-bottom: 2rem;\n}\n.btn-commit[data-v-1395245a] {\r\n    text-align: center;\n}\n.allroles[data-v-1395245a] {\r\n    margin-left: 100px;\r\n    margin-bottom: 1rem;\n}\r\n",""])},vpAW:function(e,t,r){"use strict";function a(e){r("XJZB")}Object.defineProperty(t,"__esModule",{value:!0});var o=r("nv77"),n={data:function(){var e=this,t=function(t,r,a){r!==e.editForm.password?a(new Error(e.$t("account.pwdNotMatch"))):a()};return{active:0,isChange:!1,loading:!1,editFormRules:{username:[{required:!0,message:this.$t("account.userHolder"),trigger:"blur"},{min:4,max:16,message:this.$t("account.errLenHolder"),trigger:"blur"}],company:[{required:!0,message:this.$t("tenant.tipCompany"),trigger:"blur"}],email:[{required:!0,message:this.$t("account.emailHolder"),trigger:"blur"}],phone:[{required:!0,message:this.$t("account.phoneHolder"),trigger:"blur"}],password:[{required:!0,message:this.$t("account.pwdHolder"),trigger:"blur"},{min:8,max:16,message:this.$t("account.errLenHolder"),trigger:"blur"}],repwd:[{required:!0,message:this.$t("account.repwdHolder"),trigger:"blur"},{min:8,max:16,message:this.$t("account.errLenHolder"),trigger:"blur"},{validator:t,trigger:"blur"}]},editForm:{username:"",password:"",company:"",site:"",addr:"",phone:"",email:"",repwd:""}}},computed:{},mounted:function(){var e=this;this.$route.query.id&&(this.isChange=!0,o.a.getTenant(this.$route.query.id).then(function(t){e.editForm.username=t.data.username,e.editForm.company=t.data.company,e.editForm.site=t.data.site,e.editForm.addr=t.data.addr,e.editForm.phone=t.data.phone,e.editForm.email=t.data.email}).catch(function(e){}))},methods:{backForm:function(e){this.$router.back(-1)},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=t.editForm,a=void 0;a=t.isChange?o.a.updateTenant(t.$route.query.id,r.company,r.site,r.addr,r.phone,r.email):o.a.createTenant(r.username,r.password,r.company,r.site,r.addr,r.phone,r.email),t.loading=!0,a.then(function(e){t.loading=!1,t.$message.success(t.$t("common.tipSuccess")),t.$router.push({path:"/tenantList"})}).catch(function(e){t.loading=!1})})}}},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"tips"},[r("p",[e._v(e._s(e.$t("route.tenantApply")))])]),e._v(" "),r("div",{staticClass:"editForm"},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px",rules:e.editFormRules}},[r("el-form-item",{attrs:{label:e.$t("account.user"),prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("account.userHolder"),readonly:e.isChange},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),e._v(" "),e.isChange?e._e():r("el-form-item",{attrs:{label:e.$t("account.pwd"),prop:"password"}},[r("el-input",{attrs:{placeholder:e.$t("account.pwdHolder"),type:"password"},model:{value:e.editForm.password,callback:function(t){e.$set(e.editForm,"password",t)},expression:"editForm.password"}})],1),e._v(" "),e.isChange?e._e():r("el-form-item",{attrs:{label:e.$t("account.repwd"),prop:"repwd"}},[r("el-input",{attrs:{placeholder:e.$t("account.repwdHolder"),type:"password"},model:{value:e.editForm.repwd,callback:function(t){e.$set(e.editForm,"repwd",t)},expression:"editForm.repwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("tenant.company"),prop:"company"}},[r("el-input",{attrs:{placeholder:e.$t("tenant.tipCompany")},model:{value:e.editForm.company,callback:function(t){e.$set(e.editForm,"company",t)},expression:"editForm.company"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("tenant.phone"),prop:"phone"}},[r("el-input",{attrs:{placeholder:e.$t("account.phoneHolder")},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("tenant.email"),prop:"email"}},[r("el-input",{attrs:{placeholder:e.$t("account.emailHolder")},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("tenant.addr"),prop:"addr"}},[r("el-input",{model:{value:e.editForm.addr,callback:function(t){e.$set(e.editForm,"addr",t)},expression:"editForm.addr"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("tenant.site"),prop:"site"}},[r("el-input",{model:{value:e.editForm.site,callback:function(t){e.$set(e.editForm,"site",t)},expression:"editForm.site"}})],1),e._v(" "),r("div",{staticClass:"btn-commit"},[e.isChange?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.backForm("editForm")}}},[e._v(e._s(e.$t("common.back")))]):e._e(),e._v(" "),e.isChange?e._e():r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.resetForm("editForm")}}},[e._v(e._s(e.$t("common.reset")))]),e._v(" "),r("el-button",{attrs:{type:"danger",loading:e.loading},on:{click:function(t){e.submitForm("editForm")}}},[e._v(e._s(e.$t("common.save")))])],1)],1)],1)])},s=[],d={render:i,staticRenderFns:s},l=d,m=r("VU/8"),c=a,u=m(n,l,!1,c,"data-v-1395245a",null);t.default=u.exports}});